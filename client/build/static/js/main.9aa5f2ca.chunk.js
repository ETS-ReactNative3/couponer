(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(19),r=a.n(s),i=(a(42),a(3)),l=a.n(i),c=a(4),u=a(5),m=a(6),d=a(8),p=a(7),h=a(9),g=a(1),b=(a(46),a(10)),C=(a(48),function(e){return o.a.createElement("div",{className:"coupon"},o.a.createElement("br",null),o.a.createElement("h2",{className:"exampleTitle"},e.title),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:"exampleImage"},o.a.createElement("img",{className:"exampleImage",src:e.imagePreviewUrl,alt:e.textarea})),o.a.createElement("div",{className:"pricing"},o.a.createElement("div",{className:"oldPrice"},"Was: ",(e.currentPrice-0).toFixed(2),"$"),o.a.createElement("div",{className:"percentOff"},((e.currentPrice-e.discountedPrice)/e.currentPrice*100).toFixed(2),"% Percent Off!"),o.a.createElement("br",null),o.a.createElement("div",{className:"newPrice"},"Now: ","0.00"===(e.discountedPrice-0).toFixed(2)?"FREE":(e.discountedPrice-0).toFixed(2)+"$"),o.a.createElement("div",{className:"savings"},"Save: ",(e.currentPrice-e.discountedPrice).toFixed(2),"$"),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("div",{className:"amountLeft"},"Only ",e.amountCoupons," Coupons Left!"),o.a.createElement("hr",null),o.a.createElement("div",{className:"description"},o.a.createElement("br",null),o.a.createElement("p",null,e.textarea),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("p",null,e.address),o.a.createElement("br",null),o.a.createElement("p",null,e.distance),o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("button",{className:"getCoupon"},o.a.createElement("strong",null,"Get Coupon"))),o.a.createElement("br",null)))}),f=function(e){return"true"===e.hasLabel&&e.icon?o.a.createElement("label",{htmlFor:e.htmlFor},e.label,o.a.createElement("img",{className:"icon",src:e.icon,alt:"Icon used to decorate form labels"})):o.a.createElement("label",{htmlFor:e.htmlFor},e.label)},y=function(e){return o.a.createElement("fieldset",null,o.a.createElement(f,{hasLabel:e.hasLabel,htmlFor:e.htmlFor,label:e.label,icon:e.icon}),o.a.createElement("input",{className:e.htmlFor,name:e.name,max:e.max||"",min:e.min||"",placeholder:e.placeholder||"",required:e.required||"",step:e.step||"",type:e.type||"text",onChange:e.onChange||""}))},v=function(e){var t=e.options.split(", ").map(function(e,t){return o.a.createElement("option",{key:t,value:t},e)});return o.a.createElement("fieldset",null,o.a.createElement(f,{hasLabel:e.hasLabel,htmlFor:e.htmlFor,label:e.label,className:e.className}),o.a.createElement("select",{defaultValue:"",className:e.htmlFor,name:e.name||"",required:e.required||"",value:e.length,onChange:e.onChange||""},o.a.createElement("option",{value:"",disabled:!0},"Make Selection"),t))},E=function(e){return o.a.createElement("fieldset",null,o.a.createElement(f,{hasLabel:e.hasLabel,htmlFor:e.htmlFor,label:e.label,className:e.className,icon:e.icon}),o.a.createElement("textarea",{cols:e.cols||"",name:e.name||"",required:e.required||"",rows:e.rows||"",value:e.textarea,onChange:e.onChange||"",className:e.className}))},w=a(34),N=a.n(w),S=a(2),O="USD",k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).fromEuroToCent=function(e){return 100*e},a.successPayment=function(e){return S.toast.success("Payment Successful")},a.errorPayment=function(e){return S.toast.error("Payment Error")},a.onToken=function(e,t){return function(n){var o={description:t,source:n.id,currency:O,amount:a.fromEuroToCent(e)};a.props.parentMethod(o)}},a.successPayment=a.successPayment.bind(Object(g.a)(Object(g.a)(a))),a.errorPayment=a.errorPayment.bind(Object(g.a)(Object(g.a)(a))),a.onToken=a.onToken.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(N.a,{name:this.props.name,parentMethod:this.props.parentMethod,description:this.props.description,amount:this.fromEuroToCent(this.props.amount),token:this.onToken(this.props.amount,this.props.description),currency:this.props.CURRENCY,stripeKey:"pk_live_BL9smKhY7sQofwy88ZNH9q2D",panelLabel:this.props.panelLabel,alipay:!0,bitcoin:!0})}}]),t}(n.Component),P=function(e,t,a,n){var o=Math.PI/180,s=(n-t)*o,r=(a-e)*o,i=Math.pow(Math.sin(r/2),2)+Math.cos(e*o)*Math.cos(a*o)*Math.pow(Math.sin(s/2),2);return(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6378.137*.621371).toFixed(2)+" miles from you."},x=function(e){navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var a={longitude:t.coords.longitude,latitude:t.coords.latitude};sessionStorage.setItem("couponlatitude",t.coords.latitude),sessionStorage.setItem("couponlongitude",t.coords.longitude),e(a)})},j=function(e){return""===e.latitude||""===e.longitude?S.toast.error("Invalid Address, please check address!"):"Rent your very own kitten today!"===e.title?S.toast.error("You must have a unique title!"):e.title.length<4?S.toast.error("You must have a longer title!"):"123 Cuddle Street, Kittentown, MA. 0 Miles Away."===e.address?S.toast.error("You must have an address!"):"http://www.petsworld.in/blog/wp-content/uploads/2014/09/cute-kittens.jpg"===e.imagePreviewUrl?S.toast.error("You must upload an image!!!!!"):"Ever want to have a kitten without the responsibility of actually owning it? Want to sneak a kitten into your apartment for a week without your pesky landlord knowing? Now you can! Call 1-8000-RENT-CAT now to rent your very own kitten today."===e.textarea?S.toast.error("You must upload a custom description!"):e.textarea.length<49?S.toast.error("You're description must be over 50 characters!"):""===e.city?S.toast.error("You must have a city!"):""===e.category?S.toast.error("You must have a category!"):""===e.discountedPrice?S.toast.error("You must have a discounted price!"):Number(e.discountedPrice)>=1e4?S.toast.error("Your discounted price is way too high!"):""===e.price?S.toast.error("You must have a Current Price!"):Number(e.price)>=1e4?S.toast.error("Your current price is way too high!"):!(""===e.zip||e.zip.length<3)||S.toast.error("You must have a full zipcode!")},I=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(b.a)({},n,o))},a.togglePopup=function(){return"hiddenOverlay"===a.state.popupClass?a.setState({popupClass:"overlay"}):a.setState({popupClass:"hiddenOverlay"})},a.handleImageChange=function(e){e.preventDefault();try{var t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({file:n,imagePreviewUrl:t.result})},t.readAsDataURL(n)}catch(o){S.toast.error("You must select an image!")}},a.handleTitleChange=function(e){""===e.target.value?a.setState({title:"Rent your very own kitten today!"}):a.setState({title:e.target.value})},a.handleAddressChange=function(e){var t=Object(g.a)(Object(g.a)(a));""===e.target.value?a.setState({address:"123 Cuddle Street, KittenTown MA. 0 Miles Away."}):a.setState({address:e.target.value});var n=e.target.value;(new window.google.maps.Geocoder).geocode({address:n},function(){var e=Object(c.a)(l.a.mark(function e(a,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{a[0]&&t.state.address.length>5&&t.setState({latitude:a[0].geometry.location.lat(),longitude:a[0].geometry.location.lng(),validAddress:o.a.createElement("span",{className:"icon green"},"\u2713")})}catch(n){t.setState({validAddress:o.a.createElement("span",{className:"icon red"},"\u2718")})}case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleAmountCouponsChange=function(e){var t=e.target.value;t.lastIndexOf(".")>-1&&(t=0),a.setState({amountCoupons:t})},a.handleDiscountedPriceChange=function(e){var t=e.target.value;t.includes(".")?"."===t.substring(t.length-3,t.length-2)?a.setState({discountedPrice:e.target.value}):a.setState({discountedPrice:e.target.value+"0"}):a.setState({discountedPrice:e.target.value+".00"})},a.handleCurrentPriceChange=function(e){var t=e.target.value;t.includes(".")?"."===t.substring(t.length-3,t.length-2)?a.setState({currentPrice:e.target.value}):a.setState({currentPrice:e.target.value+"0"}):a.setState({currentPrice:e.target.value+".00"})},a.handleTextareaChange=function(e){""===e.target.value?a.setState({textarea:"Ever want to have a kitten without the responsibility of actually owning it? Want to sneak a kitten into your apartment for a week without your pesky landlord knowing? Now you can! Call 1-8000-RENT-CAT now to rent your very own kitten today."}):a.setState({textarea:e.target.value})},a.handleCategoryChange=function(e){a.setState({category:["Food","Entertainment","Health and Fitness","Retail","Home improvement","Activies","Other"][e.target.value]})},a.handleSuperChange=function(e){a.setState({superCoupon:["Let's go super","No thanks"][e.target.value]})},a.payForCoupons=function(){var e={title:a.state.title,address:a.state.address,amountCoupons:Number(a.state.amountCoupons),currentPrice:Number(a.state.currentPrice),discountedPrice:Number(a.state.discountedPrice),superCoupon:a.state.superCoupon,textarea:a.state.textarea,imagePreviewUrl:a.state.imagePreviewUrl,category:a.state.category,city:a.state.city,zip:a.state.zip,longitude:Number(a.state.longitude),latitude:Number(a.state.latitude)},t=window.google,n=new t.maps.Geocoder,o=Object(g.a)(Object(g.a)(a));n.geocode({address:a.state.address},function(){var n=Object(c.a)(l.a.mark(function n(s,r){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:"OK"===t.maps.GeocoderStatus.OK?s[0]&&o.state.address.length>5&&(o.setState({latitude:s[0].geometry.location.lat(),longitude:s[0].geometry.location.lng()}),!0===j(a.state)&&o.props.uploadCoupons(e)):S.toast.error("Your address appears to be incorrect. Please check your formatting and confirm it can be found on Google Maps.");case 1:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}())},a.uploadCoupons=function(e){var t={description:e.description,source:e.source,currency:e.currency,amount:e.amount,title:a.state.title,address:a.state.address,amountCoupons:Number(a.state.amountCoupons),currentPrice:Number(a.state.currentPrice),discountedPrice:Number(a.state.discountedPrice),superCoupon:a.state.superCoupon,textarea:a.state.textarea,imagePreviewUrl:a.state.imagePreviewUrl,category:a.state.category,city:a.state.city,zip:a.state.zip,longitude:Number(a.state.longitude),latitude:Number(a.state.latitude)},n=window.google,o=new n.maps.Geocoder,s=Object(g.a)(Object(g.a)(a));o.geocode({address:a.state.address},function(){var e=Object(c.a)(l.a.mark(function e(o,r){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"OK"===n.maps.GeocoderStatus.OK?o[0]&&s.state.address.length>5&&(s.setState({latitude:o[0].geometry.location.lat(),longitude:o[0].geometry.location.lng()}),!0===j(a.state)&&s.props.uploadCoupons(t)):S.toast.error("Your address appears to be incorrect. Please check your formatting and confirm it can be found on Google Maps.");case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={title:"Rent your very own kitten today!",longitude:"",latitude:"",mylongitude:"",mylatitude:"",address:"123 Cuddle Street, Kittentown, MA. 0 Miles Away.",amountCoupons:"100",currentPrice:"10.00",discountedPrice:"5.00",superCoupon:"Make a Selection",textarea:"Ever want to have a kitten without the responsibility of actually owning it? Want to sneak a kitten into your apartment for a week without your pesky landlord knowing? Now you can! Call 1-8000-RENT-CAT now to rent your very own kitten today.",file:"",imagePreviewUrl:"http://www.petsworld.in/blog/wp-content/uploads/2014/09/cute-kittens.jpg",category:"",city:"",zip:"",popupClass:"hiddenOverlay",validAddress:o.a.createElement("span",{className:"icon red"},"\u2718")},a.togglePopup=a.togglePopup.bind(Object(g.a)(Object(g.a)(a))),a.handleTitleChange=a.handleTitleChange.bind(Object(g.a)(Object(g.a)(a))),a.handleAddressChange=a.handleAddressChange.bind(Object(g.a)(Object(g.a)(a))),a.handleDiscountedPriceChange=a.handleDiscountedPriceChange.bind(Object(g.a)(Object(g.a)(a))),a.handleCategoryChange=a.handleCategoryChange.bind(Object(g.a)(Object(g.a)(a))),a.handleSuperChange=a.handleSuperChange.bind(Object(g.a)(Object(g.a)(a))),a.handleImageChange=a.handleImageChange.bind(Object(g.a)(Object(g.a)(a))),a.handleCurrentPriceChange=a.handleCurrentPriceChange.bind(Object(g.a)(Object(g.a)(a))),a.handleAmountCouponsChange=a.handleAmountCouponsChange.bind(Object(g.a)(Object(g.a)(a))),a.handleTextareaChange=a.handleTextareaChange.bind(Object(g.a)(Object(g.a)(a))),a.payForCoupons=a.payForCoupons.bind(Object(g.a)(Object(g.a)(a))),a.uploadCoupons=a.uploadCoupons.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("UnlimitedCouponerKey");if(!e)return this.props.setMainHome(),S.toast.error("You are not logged in!");if("b"!==e.slice(-1))return this.props.setMainHome(),S.toast.error("Only buiness owners can access this page!");this.setState({loggedInKey:e});var t=sessionStorage.getItem("couponlatitude"),a=sessionStorage.getItem("couponlongitude");t||a||!navigator.geolocation?this.setState({mylongitude:a,mylatitude:t}):x(function(e){n.setState({mylongitude:e.longitude,mylatitude:e.latitude})});var n=this}},{key:"render",value:function(){return o.a.createElement("div",{className:"flextape"},o.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800",rel:"stylesheet"}),o.a.createElement("link",{href:"https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css",rel:"stylesheet"}),o.a.createElement("div",{className:"couponHeader"},o.a.createElement("h2",{className:"formHeaderText"}," Example Coupon")),o.a.createElement("div",{className:"formHeader"},o.a.createElement("h2",{className:"formHeaderText"}," Coupon details")),o.a.createElement("div",{className:"flextape"},o.a.createElement(C,{title:this.state.title,imagePreviewUrl:this.state.imagePreviewUrl,currentPrice:this.state.currentPrice,discountedPrice:this.state.discountedPrice,amountCoupons:this.state.amountCoupons,length:this.state.length,textarea:this.state.textarea,address:this.state.address,distance:P(this.state.mylatitude,this.state.mylongitude,this.state.latitude,this.state.longitude)}),o.a.createElement("div",{className:"formHeaderMobile"},o.a.createElement("h2",null,"Coupon details")),o.a.createElement("div",{className:"uploadCouponForm"},o.a.createElement("form",{method:"post",encType:"multipart/form-data",className:"uploadForm",action:"/api/uploadCoupons"},o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(y,{hasLabel:"true",htmlFor:"textInput",label:"Title",required:!0,type:"text",className:"couponUploadTitle",value:this.state.title,onChange:this.handleTitleChange}),o.a.createElement("br",null),o.a.createElement(y,{hasLabel:"true",htmlFor:"textInput",label:"Full Address",required:!0,type:"text",value:this.state.address,onChange:this.handleAddressChange}),o.a.createElement("div",{className:"iconvalid"},this.state.validAddress),o.a.createElement("br",null),o.a.createElement(y,{hasLabel:"true",htmlFor:"textInput",label:"City",required:!0,name:"city",type:"text",value:this.state.city,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement(y,{hasLabel:"true",htmlFor:"textInput",label:"Zip code",required:!0,type:"number",name:"zip",value:this.state.handleZipChange,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement(y,{hasLabel:"true",htmlFor:"textInput",label:"Amount of Coupons",required:!0,type:"number",value:this.state.amountCoupons,onChange:this.handleAmountCouponsChange}),o.a.createElement("br",null),o.a.createElement(y,{hasLabel:"true",htmlFor:"textInput",label:"Current Price",required:!0,type:"number",value:this.state.currentPrice,onChange:this.handleCurrentPriceChange}),o.a.createElement("br",null),o.a.createElement(y,{hasLabel:"true",htmlFor:"textInput",label:"Discounted Price",required:!0,type:"number",value:this.state.discountedPrice,onChange:this.handleDiscountedPriceChange}),o.a.createElement("br",null),o.a.createElement(v,{hasLabel:"true",htmlFor:"select",label:"Coupon Category",options:"Food, Entertainment, Health and Fitness, Retail, Home Improvement, Activities, Other",required:!0,value:this.state.length,onChange:this.handleCategoryChange}),o.a.createElement("br",null),o.a.createElement(E,{hasLabel:"true",htmlFor:"textarea",label:"Description of Coupon",required:!0,value:this.state.textarea,onChange:this.handleTextareaChange}),o.a.createElement("br",null),o.a.createElement("div",{className:"box"},o.a.createElement("div",{className:"questionHolder"},o.a.createElement("a",{className:"fa fa-button",onClick:this.togglePopup},o.a.createElement("i",{className:"fa fa-question"}))),o.a.createElement("div",{className:this.state.popupClass},o.a.createElement("div",{className:"popup"},o.a.createElement("h2",{className:"popupheader"},"What are Super Coupons?"),o.a.createElement("a",{className:"close",onClick:this.togglePopup},"\xd7"),o.a.createElement("div",{className:"popupcontent"},"Super Coupons are coupons that have a higher likelyhood of appearing up in searches. Super Coupons will also appear first on the home page. Super Coupons cost 0.10$ per coupon instead of being free like standard coupons."))),o.a.createElement(v,{hasLabel:"true",htmlFor:"select",label:"Super Coupon",options:"Let's Go Super!, No thanks.",required:!0,value:this.state.superCoupon,onChange:this.handleSuperChange})),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",{className:"custom-file-upload"},"Upload Your Image",o.a.createElement("input",{className:"fileInput",type:"file",required:!0,onChange:this.handleImageChange})),"Let's go super"!==this.state.superCoupon?o.a.createElement("button",{type:"submit",value:"Submit",className:"uploadbtn",onClick:this.uploadCoupons},o.a.createElement("strong",null,"Upload Coupons!")):o.a.createElement("div",null)),"Let's go super"===this.state.superCoupon?o.a.createElement("div",{className:"couponPay"},o.a.createElement(k,{parentMethod:this.payForCoupons,name:"UnlimitedCouponer Coupons",description:"Let's go super"===this.state.superCoupon?this.state.amountCoupons+" Super Coupons":this.state.amountCoupons+" Coupons",amount:(this.state.superCoupon,.1*this.state.amountCoupons),panelLabel:"Upload coupons"})):o.a.createElement("div",null))))}}]),t}(n.Component),M=(a(60),a(35)),F=a.n(M),B=function(e){return o.a.createElement("div",{className:"signupBox"},o.a.createElement("div",{className:"inputLabel"},o.a.createElement("label",{className:"signupLabel",htmlFor:e.labelHTML},o.a.createElement("strong",null,e.labelHTML),o.a.createElement("div",{className:"icon"},e.icon)),o.a.createElement("input",{className:"signupInput",id:e.labelHTML,name:e.name,type:e.type,placeholder:e.placeholder,onChange:e.onChange})))},H=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,T=function(e){return H.test(String(e).toLowerCase())},U=function(){var e=Object(c.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),A=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),L=function(e){return!!A.test(e)},D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s)),"passwordConfirm"===n&&s===a.state.password&&L(s)?a.setState({validPassword:o.a.createElement("span",{className:"green icon"},"\u2713")}):"password"===n&&s===a.state.passwordConfirm&&L(s)&&a.setState({validPassword:o.a.createElement("span",{className:"green icon"},"\u2713")})},a.updateMembershipExperationDate=function(e){var t=new Date;t.setMonth(t.getMonth()+Number(e.target.value)),a.setState({numberOfMonths:Number(e.target.value),membershipExperationDate:t})},a.validState=function(e){return!(!e.email||""===e.yourPick||e.password!==e.passwordConfirm||!e.phoneNumber)},a.togglePopup=function(){return"hiddenOverlay"===a.state.popupClass?a.setState({popupClass:"overlay"}):a.setState({popupClass:"hiddenOverlay"})},a.handleToggle=function(e){" Customer"===e?(a.state.boolValidPhoneNumber&&a.setState({checkout:"showBuissnessIfCustomer",showSignUp:"showBuissnessIfCustomer"}),a.setState({yourPick:e,showOrHideBuisInput:"hideBuissnessIfCustomer",showOrHideAccountMem:"showBuissnessIfCustomer"})):" Business Owner"===e&&(a.state.boolValidPhoneNumber&&a.setState({showSignUp:"showBuissnessIfCustomer"}),a.setState({yourPick:e,showOrHideBuisInput:"showBuissnessIfCustomer",showOrHideAccountMem:"hideBuissnessIfCustomer",checkout:"hidden"}))},a.state={customerOrbusiness:[" Customer"," Business Owner"],email:"",password:"",passwordConfirm:"",businessName:"",yourPick:" Customer",showOrHideBuisInput:"hideBuissnessIfCustomer",showSignUp:"hideBuissnessIfCustomer",showOrHideAccountMem:"showBuissnessIfCustomer",numberOfMonths:0,fiveDigitCode:"",country:"+1",phoneNumber:"",popupClass:"hiddenOverlay",boolValidPhoneNumber:!1,validPhoneNumber:o.a.createElement("span",{className:"icon red"},"\u2718"),validPassword:o.a.createElement("span",{className:"icon red"},"\u2718"),showOrHidePhoneValidationButton:"signupbtn",checkout:"hidden"},a.handleSingup=a.handleSingup.bind(Object(g.a)(Object(g.a)(a))),a.updateMembershipExperationDate=a.updateMembershipExperationDate.bind(Object(g.a)(Object(g.a)(a))),a.validatePhone=a.validatePhone.bind(Object(g.a)(Object(g.a)(a))),a.togglePopup=a.togglePopup.bind(Object(g.a)(Object(g.a)(a))),a.validatePhoneNumber=a.validatePhoneNumber.bind(Object(g.a)(Object(g.a)(a))),a.handleToggle=a.handleToggle.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){sessionStorage.getItem("UnlimitedCouponerEmail")&&sessionStorage.getItem("UnlimitedCouponerKey")&&(this.props.setMainHome(),S.toast.error("You are already logged in!"))}},{key:"validatePhoneNumber",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={phoneNumber:this.state.country+this.state.phoneNumber,randomNumber:this.state.fiveDigitCode},e.next=3,U("/api/phoneTestValidateNumber",t);case 3:(a=e.sent)&&a.success?(S.toast.success("Phone number is valid, woohoo!"),this.setState({checkout:"showBuissnessIfCustomer",showOrHidePhoneValidationButton:"hidden",boolValidPhoneNumber:!0,validPhoneNumber:o.a.createElement("span",{className:"green icon"},"\u2713")}),this.setState({showSignUp:"showBuissnessIfCustomer",checkout:"hidden"}),this.togglePopup()):S.toast.error("The number you have entered is incorrect");case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"validatePhone",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.phoneNumber){e.next=5;break}return S.toast.error("You need to enter your phone number!"),e.abrupt("return",!1);case 5:return this.togglePopup(),t={phoneNumber:this.state.country+this.state.phoneNumber},e.next=9,U("/api/phoneTest",t);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSingup",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this.state.boolValidPhoneNumber){e.next=2;break}return e.abrupt("return",S.toast.error("You must validate your phone number!"));case 2:if(t.preventDefault(),a={businessName:this.state.businessName,email:this.state.email,yourPick:this.state.yourPick,password:this.state.password,phoneNumber:this.state.country+this.state.phoneNumber,randomNumber:Number(this.state.fiveDigitCode)},L(this.state.password)){e.next=6;break}return e.abrupt("return",S.toast.error("Your password is not valid!"));case 6:if(!T(this.state.email)||!this.validState(this.state)){e.next=13;break}return e.next=9,U("/api/signupCustomer",a);case 9:(n=e.sent)&&n.loggedInKey&&(this.props.parentMethod(n&&n.loggedInKey,this.state.email),sessionStorage.setItem("UnlimitedCouponerKey",n.loggedInKey)),e.next=14;break;case 13:S.toast.error("There was an error with your submission!");case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container text-center"},o.a.createElement("section",{id:"portfolio",className:"content"},o.a.createElement("h2",{className:"textHeader"},"Sign up"),o.a.createElement("p",{className:"text"},"First, validate your phone number. UnlimitedCouponer needs your phone number in order to text you claimed coupons and to allow easy verification of coupons. Then if you are a customer, choose your membership plan. Membership will be needed to claim coupons and you can claim unlimited coupons so long as you actually use them! Business Owners cannot claim coupons but do not have a membership fee. ",o.a.createElement("strong",null,"Your password will require 1 uppercase letter, 1 lowercase letter, 8 total characters, 1 number, and one special character.")," ")),o.a.createElement("div",{className:"row"},o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("div",{className:"signinForm"},o.a.createElement("button",{className:" Customer"===this.state.yourPick?"signupbtn toggle":"signupbtn toggle notselected",onClick:function(){return e.handleToggle(" Customer")}},o.a.createElement("strong",null,"Customer")),o.a.createElement("button",{className:" Business Owner"===this.state.yourPick?"signupbtn toggle":"signupbtn toggle notselected",onClick:function(){return e.handleToggle(" Business Owner")}},o.a.createElement("strong",null,"Business Owner")))),o.a.createElement("form",{className:"signinForm"},o.a.createElement(B,{htmlFor:"Email",type:"email",name:"email",labelHTML:"Email",placeholder:"ProSaver@UnlimitedCouponer.com",onChange:this.handleChange,required:!0}),o.a.createElement(B,{htmlFor:"Password",type:"password",name:"password",labelHTML:"Password",placeholder:"Example123!",onChange:this.handleChange,required:!0}),o.a.createElement("div",{className:"phoneIcon overRight"},this.state.validPassword),o.a.createElement(B,{htmlFor:"Password",type:"password",name:"passwordConfirm",labelHTML:"Confirm Password",placeholder:"Confirm Password",onChange:this.handleChange,required:!0}),o.a.createElement("div",{className:this.state.showOrHideBuisInput},o.a.createElement(B,{htmlFor:"Business Name",type:"text",name:"businessName",labelHTML:"Business Name",placeholder:"Bob's Kitten Rentals",onChange:this.handleChange})),o.a.createElement("div",{className:"signupBox"},o.a.createElement("label",{className:"signupLabel",htmlFor:"Country"},o.a.createElement("strong",null,"Country")),o.a.createElement(F.a,{onSelect:function(t){return e.setState({country:t})},showFirst:["US","UK","IN"],defaultValue:"select county",id:"some-id",name:"some-name",className:"some class name",optionClassName:"some option class name"})),o.a.createElement(B,{htmlFor:"Phone Number",type:"number",name:"phoneNumber",labelHTML:"Phone Number",placeholder:"123-456-7189",onChange:this.handleChange})),o.a.createElement("div",{className:"buttonAndForgot"},o.a.createElement("button",{type:"submit",value:"Submit",className:this.state.showOrHidePhoneValidationButton,onClick:this.validatePhone},o.a.createElement("strong",null,"Validate Phone Number")),o.a.createElement("div",{className:this.state.popupClass},o.a.createElement("div",{className:"popup"},o.a.createElement("h2",{className:"popupheader"},"Please Enter Your 5 digit security code"),o.a.createElement("a",{className:"close",onClick:this.togglePopup},"\xd7"),o.a.createElement("div",{className:"popupcontent fivedigit"},o.a.createElement(B,{htmlFor:"5 digit code",type:"number",labelHTML:"5 digit code",placeholder:"12345",name:"fiveDigitCode",onChange:this.handleChange,required:!0}),o.a.createElement("div",{className:"popupbtn"},o.a.createElement("button",{className:"signupbtn signupbtnn",value:"send",onClick:this.validatePhoneNumber},o.a.createElement("strong",null,"Submit")))))),o.a.createElement("div",{className:this.state.checkout},o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement("div",{className:this.state.showSignUp},o.a.createElement("button",{type:"submit",value:"Submit",className:"signupbtn",onClick:this.handleSingup},o.a.createElement("strong",null,"Sign up!")))))}}]),t}(n.Component),Y=(a(79),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(b.a)({},n,o))},a.state={oldPassword:"",newPassword:"",city:"",businessName:"",phoneNumber:"",latitude:"",longitude:""},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=sessionStorage.getItem("UnlimitedCouponerKey"))&&("b"===t.substr(-1)||"c"===t.substr(-1))){e.next=4;break}return this.props.setMainHome(),e.abrupt("return",S.toast.error("You are not logged in!"));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateMembershipExperationDate",value:function(e){var t=new Date;t.setMonth(t.getMonth()+Number(e.target.value)),this.setState({numberOfMonths:Number(e.target.value),membershipExperationDate:t})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={businessName:this.state.businessName,phoneNumber:this.state.phoneNumber,city:this.state.city,oldPassword:this.state.oldPassword,newPassword:this.state.newPassword};this.props.updateAccountSettings(t)}},{key:"render",value:function(){return o.a.createElement("div",{className:"container text-center"},o.a.createElement("section",{id:"portfolio",className:"content"},o.a.createElement("h2",{className:"textHeader"},"How to update your account settings"),o.a.createElement("p",{className:"text"},"In order to add more months of membership you must pay 4.99$ per month. You must validate your new phone number once again in order to change your phone number. To change your password simply type your current password and the new password you would like. To update your city or other information, simply fill out the form and click the update info button below!")),o.a.createElement("br",null),o.a.createElement("div",{className:"accountForm"},o.a.createElement("div",{className:"adjustAccountSettings"},o.a.createElement("h2",null,"Change Account Settings")),o.a.createElement(B,{htmlFor:"Password",type:"password",labelHTML:"Change Password",name:"newPassword",placeholder:"New Password",onChange:this.handleChange}),o.a.createElement(B,{htmlFor:"Password",type:"password",name:"oldPassword",labelHTML:"Old Password",placeholder:"Old Password",onChange:this.handleChange}),o.a.createElement(B,{htmlFor:"Phone Number",type:"number",name:"phoneNumber",labelHTML:"Phone Number",placeholder:"+1 123-456-7890",onChange:this.handleChange}),o.a.createElement(B,{htmlFor:"City",type:"text",labelHTML:"City",name:"city",placeholder:"Coupon Town",onChange:this.handleChange}),o.a.createElement(B,{htmlFor:"business Name",type:"text",labelHTML:"business Name",name:"businessName",placeholder:"business Name",onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("button",{value:"send",className:"updatebtn",onClick:this.handleSubmit},o.a.createElement("strong",null,"Update Info"))))}}]),t}(n.Component)),K=(a(81),function(e){return String(e).toLowerCase().replace(/(^| )(\w)/g,function(e){return e.toUpperCase()})}),R=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},q=sessionStorage.getItem("couponlatitude"),z=sessionStorage.getItem("couponlongitude"),G=function(){var e=Object(c.a)(l.a.mark(function e(t,a,n){var o,s,r,i,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=sessionStorage.getItem("UnlimitedCouponerKey")?sessionStorage.getItem("UnlimitedCouponerKey").replace('"',"").replace('"',""):null,s=sessionStorage.getItem("UnlimitedCouponerEmail")?sessionStorage.getItem("UnlimitedCouponerEmail"):null,o&&s){e.next=7;break}S.toast.error("You are not logged in!"),window.history.pushState(null,"",decodeURIComponent("/Login")),e.next=12;break;case 7:return r={_id:t,loggedInKey:o,email:s},e.next=10,U("discard"===n?"/api/discardCoupon":"/api/getCoupon",r);case 10:"Coupon Claimed!"===(i=e.sent).response||"Coupon Removed!"===i.response?(S.toast.success(i.response),c="discard"===n?Number(sessionStorage.getItem("couponsCurrentlyClaimed"))-1:Number(sessionStorage.getItem("couponsCurrentlyClaimed"))+1,sessionStorage.setItem("couponsCurrentlyClaimed",c),a("discard"===n?-1:1)):S.toast.error(i.response);case 12:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),V=function(e,t,a,n){try{var s=e.map(function(e,s){return o.a.createElement("div",{key:s,className:"coupon",id:e._id},o.a.createElement("br",null),o.a.createElement("h2",{className:"exampleTitle marginTop"},K(e.title)),o.a.createElement("img",{className:"exampleImage",src:e.base64image,alt:e.title}),o.a.createElement("div",{className:"pricing"},o.a.createElement("div",{className:"oldPrice"},"Was: ",(e.currentPrice-0).toFixed(2),"$"),o.a.createElement("div",{className:"percentOff"},((e.currentPrice-e.discountedPrice)/e.currentPrice*100).toFixed(2),"% Percent Off!"),o.a.createElement("br",null),o.a.createElement("div",{className:"newPrice"},"Now: ","0.00"===(e.discountedPrice-0).toFixed(2)?"FREE":(e.discountedPrice-0).toFixed(2)+"$"),o.a.createElement("div",{className:"savings"},"Save: ",(e.currentPrice-e.discountedPrice).toFixed(2),"$"),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("div",{className:"amountLeft"},"Only ",e.amountCoupons," Coupons Left!"),o.a.createElement("hr",null),o.a.createElement("div",{className:"description"},o.a.createElement("br",null),o.a.createElement("p",null,R(e.textarea)),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("p",null,K(e.address),", ",K(e.city)),o.a.createElement("br",null),o.a.createElement("p",null,P(q,z,e.latitude,e.longitude)),o.a.createElement("hr",null),o.a.createElement("br",null),"mycoupons"===window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length).toLowerCase()&&"c"===sessionStorage.getItem("UnlimitedCouponerKey").substr(-1)?o.a.createElement("button",{className:"getCoupon redBackground",onClick:function(){return G(e._id,t,"discard")}},o.a.createElement("strong",null," Discard Coupon ")):o.a.createElement("div",null),"mycoupons"===window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length).toLowerCase()&&"b"===sessionStorage.getItem("UnlimitedCouponerKey").substr(-1)?o.a.createElement("button",{className:"getCoupon",onClick:function(){return function(e,t,a){return t(e,a)}(e._id,a,e.title)}},o.a.createElement("strong",null," Validate Customer Codes ")):"mycoupons"===window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length).toLowerCase()&&"c"===sessionStorage.getItem("UnlimitedCouponerKey").substr(-1)?o.a.createElement("button",{className:"getCoupon",onClick:function(){return function(e,t,a){return t(e,a)}(e.couponCodes[0],a,e.title)}},o.a.createElement("strong",null," Show Your Coupon Code ")):o.a.createElement("div",null,o.a.createElement("button",{className:"getCoupon",onClick:function(){return G(e._id,t,"get")}},o.a.createElement("strong",null," Get Coupon ")),o.a.createElement("button",{className:"getCoupon",onClick:function(){return function(e,t){return t(e)}(e,n)}},o.a.createElement("strong",null," Close Up")))),o.a.createElement("br",null)))});return o.a.createElement("div",{className:"flextape"},s)}catch(r){return o.a.createElement("div",{className:"center"},o.a.createElement("br",null),"search"===window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.lastIndexOf("/")+7).toLowerCase()?o.a.createElement("h2",null,"Didn't find any coupons with these parameters."):o.a.createElement("h2",null,"Unable to automatically search for coupons. Try searching manually."))}},W=function(){var e=Object(c.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"}});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),$=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).decreasePage=function(){return a.changePage(-1)},a.incrementPage=function(){return a.changePage(1)},a.state={geolocation:"",latitude:"",longitude:"",pageNumber:1,coupons:o.a.createElement("div",{className:"loaderContainer"},o.a.createElement("div",{className:"loader"})),incrementPageClass:"hidden"},a.decreasePage=a.decreasePage.bind(Object(g.a)(Object(g.a)(a))),a.incrementPage=a.incrementPage.bind(Object(g.a)(Object(g.a)(a))),a.changePage=a.changePage.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n,s,r,i,u,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(){return(m=Object(c.a)(l.a.mark(function e(t){var a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({geolocation:t.latitude+" "+t.longitude,latitude:t.latitude,longitude:t.longitude}),a="/api/geoCoupons/".concat(t.longitude,"/").concat(t.latitude,"/1"),e.next=4,W(a);case 4:(s=e.sent)&&s.coupons&&s.coupons>0?n.setState({coupons:V(s.coupons,n.props.updateCouponsClaimed),incrementPageClass:"center marginTop"}):n.setState({coupons:o.a.createElement("h2",{className:"center paddingTop"},"No coupons found based on your location or we could not get your location. Please try searching manually.")}),sessionStorage.setItem("couponlatitude",t.latitude),sessionStorage.setItem("couponlongitude",t.longitude);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},u=function(e){return m.apply(this,arguments)},i=function(){S.toast.error("Could not find location, you will need to search manually :("),n.setState({coupons:o.a.createElement("h2",{className:"center paddingTop"},"No coupons found based on your location or we could not get your location. Please try searching manually.")})},t=sessionStorage.getItem("couponlatitude"),a=sessionStorage.getItem("couponlongitude"),n=this,a||t||!navigator.geolocation){e.next=10;break}x(u,i),e.next=16;break;case 10:return n.setState({geolocation:t+" "+a,latitude:t,longitude:a}),s="/api/geoCoupons/".concat(a,"/").concat(t,"/1"),e.next=14,W(s);case 14:(r=e.sent).coupons&&r.coupons.length>0?n.setState({coupons:V(r.coupons,n.props.updateCouponsClaimed),incrementPageClass:"center marginTop"}):n.setState({coupons:o.a.createElement("h2",{className:"center paddingTop"},"No coupons found based on your location or we could not get your location. Please try searching manually.")});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changePage",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n,s,r,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Number(this.state.pageNumber)+t,n=sessionStorage.getItem("couponlatitude"),s=sessionStorage.getItem("couponlongitude"),!(a>=1)){e.next=11;break}return r="/api/geoCoupons/".concat(s,"/").concat(n,"/").concat(a),e.next=7,W(r);case 7:(i=e.sent).coupons&&i.coupons.length>0?this.setState({coupons:V(i.coupons,this.props.updateCouponsClaimed),incrementPageClass:"center marginTop",pageNumber:a}):this.setState({coupons:o.a.createElement("h2",{className:"center paddingTop"},"No coupons found based on your location or we could not get your location. Please try searching manually."),pageNumber:a}),e.next=12;break;case 11:S.toast.error("You cannot go lower than page one!");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"center"},o.a.createElement("h2",null,"Coupons near you")),this.state.coupons,o.a.createElement("div",{className:this.state.incrementPageClass},o.a.createElement("a",{className:"incrementIcons backgroundCircle",onClick:this.decreasePage},"\u21e6"),o.a.createElement("a",{className:"backgroundCircle",onClick:this.incrementPage},"\u21e8")))}}]),t}(n.Component),_=(a(83),function(){return o.a.createElement("div",null,o.a.createElement("footer",null,o.a.createElement("ul",{className:"social"},o.a.createElement("li",null,o.a.createElement("a",{href:"https://twitter.com/unlimitedcoupo1"},o.a.createElement("i",{className:"fa fa-twitter"})," ",o.a.createElement("span",{className:"sr-only"},"Visit our twitter"))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.facebook.com/steven.pearce.102"},o.a.createElement("i",{className:"fa fa-facebook"}),o.a.createElement("span",{className:"sr-only"},"Visit our facebook"))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.linkedin.com/in/steven-pearce-1760a2178"},o.a.createElement("i",{className:"fa fa-linkedin"}),o.a.createElement("span",{className:"sr-only"},"Visit our linkedin"))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.instagram.com/unlimitedcouponer/"},o.a.createElement("i",{className:"fa fa-instagram"}),o.a.createElement("span",{className:"sr-only"},"Visit our instagram"))))))}),Z=(a(85),function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e,a))).handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(b.a)({},a,o))},n.togglePopup=function(){return"hiddenOverlay"===n.state.popupClass?n.setState({popupClass:"overlay"}):n.setState({popupClass:"hiddenOverlay"})},n.state={email:"",password:"",popupClass:"hiddenOverlay",recoveryEmail:"",recoverEmailSent:!1,recoveryCode:"",newPassword:"",validPassword:o.a.createElement("span",{className:"icon red"},"\u2718")},n.handleSubmit=n.handleSubmit.bind(Object(g.a)(Object(g.a)(n))),n.togglePopup=n.togglePopup.bind(Object(g.a)(Object(g.a)(n))),n.sendRecovery=n.sendRecovery.bind(Object(g.a)(Object(g.a)(n))),n.validateCode=n.validateCode.bind(Object(g.a)(Object(g.a)(n))),n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){sessionStorage.getItem("UnlimitedCouponerKey")&&sessionStorage.getItem("UnlimitedCouponerEmail")&&(this.props.setMainHome(),S.toast.error("You are already logged in!"))}},{key:"sendRecovery",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==T(this.state.recoveryEmail)){e.next=2;break}return e.abrupt("return",S.toast.warn("You need to enter a valid email"));case 2:return t={recoveryEmail:this.state.recoveryEmail},e.next=5,U("/api/recoverAccount",t);case 5:(a=e.sent)&&!0===a.success?(this.setState({recoverEmailSent:!0}),S.toast.success("Your recovery message has been sent! Please enter it in the next prompt.")):S.toast.error("Something went wrong, please try again.");case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!1!==T(this.state.email)){e.next=3;break}return e.abrupt("return",S.toast.error("You need to enter a valid email"));case 3:if(""!==this.state.password){e.next=5;break}return e.abrupt("return",S.toast.error("You need to enter a password"));case 5:return a={email:this.state.email,password:this.state.password},e.next=8,U("/api/signin",a);case 8:(n=e.sent)&&n.loggedInKey?(this.props.parentMethod(n.loggedInKey,this.state.email,n.couponsCurrentlyClaimed,n.membershipExperationDate),sessionStorage.setItem("UnlimitedCouponerKey",n.loggedInKey),"b"===n.loggedInKey.substr(-1)?sessionStorage.setItem("businessOwner",!0):sessionStorage.setItem("businessOwner",!1),S.toast.success("Welcome "+this.state.email+"!")):S.toast.error("Invalid Login");case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validateCode",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!L(this.state.newPassword)){e.next=4;break}this.setState({validPassword:o.a.createElement("span",{className:"green icon"},"\u2713")}),e.next=5;break;case 4:return e.abrupt("return",S.toast.warn("Your password is not valid!"));case 5:return t={recoveryEmail:this.state.recoveryEmail,newPassword:this.state.newPassword,randomNumber:this.state.recoveryCode},e.next=8,U("/api/recoverAccountWithCode",t);case 8:e.sent.success?S.toast.success("Successful account recover!"):S.toast.error("Failed to recover account.");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"loginForm"},o.a.createElement("form",{className:"form",method:"post"},o.a.createElement("h2",null,"Log In"),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("div",{className:"emailPass"},o.a.createElement("label",{htmlFor:"emailSignin"},"Email"),o.a.createElement("input",{type:"email",name:"email",id:"emailSignin",onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"passwordSignin"},"Password"),o.a.createElement("input",{type:"password",name:"password",id:"passwordSignin",onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("button",{className:"signupbtn signupbtnn",value:"send",onClick:this.handleSubmit},o.a.createElement("strong",null,"Sign In")),o.a.createElement("div",{className:"forgotPass"},o.a.createElement("strong",{onClick:this.togglePopup},"Forgot Password?"))))),o.a.createElement("div",{className:this.state.popupClass},o.a.createElement("div",{className:"popup"},o.a.createElement("h2",{className:"popupheader"},!1===this.state.recoverEmailSent?"Please Enter Your Email":"Please enter your recovery code."),o.a.createElement("a",{className:"close",onClick:this.togglePopup},"\xd7"),o.a.createElement("div",{className:"popupcontent"},o.a.createElement(B,{htmlFor:!1===this.state.recoverEmailSent?"Recover account":"Your 5 Digit Code",type:!1===this.state.recoverEmailSent?"text":"number",name:!1===this.state.recoverEmailSent?"recoveryEmail":"recoveryCode",labelHTML:!1===this.state.recoverEmailSent?"Your Email":"Your 5 Digit Code",placeholder:!1===this.state.recoverEmailSent?"helpme@ohno.com":"12345",onChange:this.handleChange,required:!0}),!1===this.state.recoverEmailSent?o.a.createElement("div",null):o.a.createElement("div",null,o.a.createElement("p",{className:"text"},o.a.createElement("strong",null,"Your new password will require 1 uppercase letter, 1 lowercase letter, 8 total characters, 1 number, and one special character.")," "),o.a.createElement(B,{htmlFor:"New Password",type:"password",name:"newPassword",labelHTML:"Your New Password",placeholder:"New Password",onChange:this.handleChange,required:!0})),o.a.createElement("div",{className:"popupbtn"},o.a.createElement("button",{className:"signupbtn signupbtnn",value:"send",onClick:!1===this.state.recoverEmailSent?this.sendRecovery:this.validateCode},o.a.createElement("strong",null,!1===this.state.recoverEmailSent?"Send Recovery Email":"Validate Code")))))))}}]),t}(n.Component)),J=(a(87),function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}),Q=function(e){return o.a.createElement("div",{className:"searchBox"},o.a.createElement("div",{className:"searchLabel"},o.a.createElement("label",{className:"signupLabel",htmlFor:e.htmlFor},o.a.createElement("strong",null,e.htmlFor))),o.a.createElement("input",{className:e.className,id:e.htmlFor,type:"text",name:e.name,placeholder:e.placeholder,onChange:e.onChange}))},X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).decreasePage=function(){return a.changePage(-1)},a.incrementPage=function(){return a.changePage(1)},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(b.a)({},n,o))},a.updateCategory=function(e){a.setState({category:["Food","Entertainment","Health and Fitness","Retail","Home Improvement","Activities","Other","Any"][e.target.value]})},a.state={city:"",zip:"",category:"",coupons:"",keywords:"",pageNumber:1,incrementPageClass:"hidden",latitude:"",longitude:""},a.updateCategory=a.updateCategory.bind(Object(g.a)(Object(g.a)(a))),a.handleSearch=a.handleSearch.bind(Object(g.a)(Object(g.a)(a))),a.decreasePage=a.decreasePage.bind(Object(g.a)(Object(g.a)(a))),a.incrementPage=a.incrementPage.bind(Object(g.a)(Object(g.a)(a))),a.changePage=a.changePage.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n,s,r,i,c,u,m,d,p;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){n.setState({latitude:e.latitude,longitude:e.longitude})},t=sessionStorage.getItem("couponlatitude"),a=sessionStorage.getItem("couponlongitude"),t||a||!navigator.geolocation?this.setState({latitude:a,longitude:a}):x(s),n=this,r="/"+window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length),(i=J("city",r))&&this.setState({city:i}),(c=J("pageNumber",r))&&this.setState({pageNumber:c}),(u=J("zip",r))&&this.setState({zip:u}),(m=J("category",r))&&this.setState({category:m}),(d=J("keywords",r))&&this.setState({keywords:d}),(d||m||i||u)&&this.setState({coupons:o.a.createElement("div",{className:"loaderContainer"},o.a.createElement("div",{className:"loader"}))}),e.next=19,W(r);case 19:p=e.sent,this.setState({coupons:V(p.coupons,this.props.updateCouponsClaimed),incrementPageClass:"center",pageNumber:Number(this.state.pageNumber),keywords:"",category:"",city:"",zip:""});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changePage",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n,s,r,i,c,u,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Number(this.state.pageNumber)+Number(t)>=1)){e.next=24;break}return""!==this.state.city&&(a="&city=".concat(this.state.city)),""!==this.state.category&&(a="".concat(a,"&category=").concat(this.state.category)),""!==this.state.zip&&(a="".concat(a,"&zip=").concat(this.state.zip)),""!==this.state.keywords&&(a="".concat(a,"&keywords=").concat(this.state.keywords)),window.history.pushState(null,"",decodeURIComponent("/search?pageNumber=".concat(Number(this.state.pageNumber)+Number(t)).concat(a))),n="/"+window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length),(s=J("city",n))&&this.setState({city:s}),r=J("pageNumber",n),Number(this.state.pageNumber)+Number(t)&&this.setState({pageNumber:r}),(i=J("zip",n))&&this.setState({zip:i}),(c=J("category",n))&&this.setState({category:c}),(u=J("keywords",n))&&this.setState({keywords:u}),(u||c||s||i)&&this.setState({coupons:o.a.createElement("div",{className:"loaderContainer"},o.a.createElement("div",{className:"loader"}))}),e.next=20,W(n);case 20:m=e.sent,this.setState({coupons:V(m.coupons,this.props.updateCouponsClaimed),pageNumber:Number(this.state.pageNumber)}),e.next=25;break;case 24:S.toast.error("You cannot go lower than page one!");case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSearch",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.state.city&&""!==this.state.city&&(a="&city=".concat(this.state.city)),this.state.category&&""!==this.state.category&&(a="".concat(a,"&category=").concat(this.state.category)),this.state.zip&&""!==this.state.zip&&(a="".concat(a,"&zip=").concat(this.state.zip)),this.state.keywords&&""!==this.state.keywords&&(a="".concat(a,"&keywords=").concat(this.state.keywords)),!(this.state.category&&""!==this.state.category||""!==this.state.zip||""!==this.state.city||this.state.keywords)){e.next=13;break}return a=a.replace("undefined","").replace("undefined",""),this.setState({coupons:o.a.createElement("div",{className:"loaderContainer"},o.a.createElement("div",{className:"loader"}))}),window.history.pushState(null,"","/search?pageNumber=".concat(this.state.pageNumber).concat(a)),e.next=11,W("/search?pageNumber=".concat(this.state.pageNumber).concat(a));case 11:n=e.sent,this.setState({coupons:V(n.coupons,this.props.updateCouponsClaimed),pageNumber:Number(this.state.pageNumber)});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"container text-center"},o.a.createElement("form",{className:"searchForm"},o.a.createElement("h2",null,"Search for coupons by city, zipcode, and even by category!"),o.a.createElement("br",null),o.a.createElement(Q,{htmlFor:"City",name:"city",className:"searchCity",onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement(Q,{htmlFor:"Zip",name:"zip",className:"searchZip",onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("strong",null,o.a.createElement(v,{hasLabel:"true",htmlFor:"select",name:"category",label:"Coupon Category",options:"Food, Entertainment, Health and Fitness, Retail, Home Improvement, Activities, Other",required:!0,value:this.state.length,onChange:this.updateCategory})),o.a.createElement("br",null),o.a.createElement(Q,{htmlFor:"Use a keyword to specify your search",className:"searchCategory",name:"keywords",onChange:this.handleChange}),o.a.createElement("button",{type:"submit",value:"Submit",className:"searchButton",onClick:this.handleSearch},o.a.createElement("strong",null,"Search"))),o.a.createElement("br",null),o.a.createElement("br",null),this.state.coupons,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:this.state.incrementPageClass},o.a.createElement("a",{className:"incrementIcons backgroundCircle",onClick:this.decreasePage},"\u21e6"),o.a.createElement("a",{className:"icon-button backgroundCircle",onClick:this.incrementPage},"\u21e8")))}}]),t}(n.Component),ee=(a(89),function(e){return o.a.createElement("div",null,o.a.createElement("h2",{className:"textHeader"},e.header)," ",o.a.createElement("p",{className:"text"},e.text))}),te=function(){return o.a.createElement("div",null,o.a.createElement("section",{id:"portfolio",className:"content"},o.a.createElement(ee,{header:"Contact us",text:o.a.createElement("div",null,"UnlimitedCouponer is meant to be a ",o.a.createElement("strong",null,"business and consumer friendly")," way of connecting customers with unique products and experiences. UnlimitedCouponer is cheap for both parties, costing only 5$ a month for ",o.a.createElement("strong",null,"unlimited")," coupons as a consumer and 0.50$ per coupon posted as a business. UnlimitedCouponer is the perfect way to make more money for your business through promotions or find great deals on places a consumer may have never heard of. Sign up today, and find great deals in a city near you.")}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ee,{header:"Why choose us?",text:"If you are a consumer you can find new and interesting events or foods that you may have never knew existed otherwise. As a consumer you can use UnlimitedCouponer to save money on activities that you would have done regardless, it pays for itself! If you are a Business Owner you can use UnlimitedCouponer to advertise your business and make money at the same time, other coupon websites take a large percentage of each sale. We believe that is not only anti-entrepreneur, but these aggressive margins can often times drive away up and coming small businesses."}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ee,{header:"How can we find you these deals?",text:"Simple, businesses want to promote their products and they want to be able to cheaply do so. Being able to promote your business by offering discounts is an excellent model for building long term customers and UnlimitedCouponer's lack of overhead allows us to charge basically nothing to these mom and pop shops. This allows small and local businesses to have worry free promotions."}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(ee,{header:"Contact us",text:"Found a bug, have a general question, want to make a sugguestion? Email me at UnlimitedCouponer@gmail.com."})),o.a.createElement("br",null))},ae=(a(91),function(){return o.a.createElement("div",{className:"center"},o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("h2",{className:"large"},"404 Not Found :("),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("h2",{className:"medium"},"I'm sorry, I couldn't find this page. Click the text \"UnlimitedCouponer\" in the header above or route to another page."),o.a.createElement("br",null),o.a.createElement("h2",{className:"medium"},"If you believe you reached this page in error, be sure to let me know at UnlimitedCouponer@gmail.com."),o.a.createElement("br",null))}),ne=[];var oe={push:function(e){window.history.pushState({},"",e),ne.forEach(function(t){return t(e)})},onChange:function(e){return ne.push(e)}},se=(a(93),function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e,a))).togglePopup=function(){return"hiddenOverlay"===n.state.popupClass?n.setState({popupClass:"overlay"}):n.setState({popupClass:"hiddenOverlay"})},n.showPopup=function(e,t){n.setState({id:e,title:t}),n.togglePopup()},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(b.a)({},a,o))},n.state={geolocation:"",latitude:"",longitude:"",coupons:o.a.createElement("div",{className:"loaderContainer"},o.a.createElement("div",{className:"loader"})),popupClass:"hiddenOverlay",isBusinessOwner:!1,id:"",couponCode:""},n.togglePopup=n.togglePopup.bind(Object(g.a)(Object(g.a)(n))),n.showPopup=n.showPopup.bind(Object(g.a)(Object(g.a)(n))),n.handleChange=n.handleChange.bind(Object(g.a)(Object(g.a)(n))),n.validateCode=n.validateCode.bind(Object(g.a)(Object(g.a)(n))),n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n,s,r,i,c,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){s.setState({latitude:e.latitude,longitude:e.longitude})},(t=sessionStorage.getItem("UnlimitedCouponerKey")?sessionStorage.getItem("UnlimitedCouponerKey").replace('"',"").replace('"',""):null)&&("b"===t.slice(-1)||"c"===t.slice(-1))){e.next=5;break}return this.props.setMainHome(),e.abrupt("return",S.toast.error("You are not logged in!"));case 5:return a=sessionStorage.getItem("couponlatitude"),n=sessionStorage.getItem("couponlongitude"),a||n||!navigator.geolocation?this.setState({latitude:a,longitude:n}):x(r),s=this,"b"===t.slice(-1)?this.setState({isBusinessOwner:!0}):this.setState({isBusinessOwner:!1}),i=sessionStorage.getItem("UnlimitedCouponerEmail")?sessionStorage.getItem("UnlimitedCouponerEmail"):null,c={loggedInKey:t,email:i},e.next=14,U("/api/getYourCoupons",c);case 14:(u=e.sent)&&u.coupons?this.setState({coupons:V(u.coupons,this.props.updateCouponsClaimed,this.showPopup)}):this.setState({coupons:o.a.createElement("div",{className:"center"},o.a.createElement("br",null),o.a.createElement("h2",null,"No coupons found, claim/create some coupons today!"))});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"validateCode",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.email&&""!==this.state.couponCode){e.next=2;break}return e.abrupt("return",S.toast.error("Please fill out both fields!"));case 2:return t={id:this.state.id,email:this.state.email,couponCode:this.state.couponCode+":c"},e.next=5,U("/api/validateCode",t);case 5:"Coupon is valid!"===(a=e.sent).response?(this.togglePopup(),S.toast.success(a.response)):S.toast.error(a.response);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:this.state.popupClass},o.a.createElement("div",{className:"popup"},o.a.createElement("h2",{className:"popupheader"},!0===this.state.isBusinessOwner?"Validate codes for: "+K(this.state.title):"Your coupon code for "+K(this.state.title)+" is:"),o.a.createElement("a",{className:"close",onClick:this.togglePopup},"\xd7"),!0===this.state.isBusinessOwner?o.a.createElement("div",{className:"popupcontent fivedigit"},o.a.createElement(B,{htmlFor:"Coupon Code",type:"text",labelHTML:"Coupon Code",placeholder:"Coupon Code",name:"couponCode",onChange:this.handleChange,required:!0}),o.a.createElement(B,{htmlFor:"Customer Email",type:"text",labelHTML:"Customer Email",placeholder:"Customer Email",name:"email",onChange:this.handleChange,required:!0}),o.a.createElement("div",{className:"popupbtn"},o.a.createElement("button",{className:"signupbtn signupbtnn",value:"send",onClick:this.validateCode},o.a.createElement("strong",null,"Submit")))):o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("strong",null,this.state.id.slice(0,-2)),o.a.createElement("br",null)))),o.a.createElement("h2",{className:"center"},"Here are your coupons"),this.state.coupons)}}]),t}(n.Component)),re=(a(95),a(36)),ie=function(e){return o.a.createElement(re.Helmet,null,o.a.createElement("meta",{name:"description",content:e.description}),o.a.createElement("meta",{name:"keywords",content:e.keywords}),o.a.createElement("title",null,e.title))},le=function(e){return o.a.createElement("div",{className:"notHidden"},o.a.createElement("a",{href:e.href,onClick:function(t){var a=t.metaKey||t.ctrlKey,n=e.href.startsWith("http");a||n||(t.preventDefault(),oe.push(e.href))}},e.children))},ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).showOrHideNav=function(){"navPopup"===a.state.showOrHideNav?a.setState({showOrHideNav:"hidden",ignoreClick:!0}):a.setState({showOrHideNav:"navPopup",ignoreClick:!1})},a.hideNav=function(){"hidden"!==a.showOrHideNav&&!1===a.state.ignoreClick&&a.setState({showOrHideNav:"hidden",ignoreClick:!0})},a.setMainAccountSettings=function(){return a.setState({SEO:o.a.createElement(ie,{title:"UnlimitedCouponer - Manage Coupons and Your Account.",keywords:"Coupons, Boston Coupons, Food Coupons, Boston Activities",description:"Manage free coupons, upload coupons for free and manage them all through unlimitedcouponer. Validate coupons and market for free online. Manage your account and view your currently claimed coupons for free online. View deals near you."}),mainContent:o.a.createElement(Y,{updateMembershipExperationDate:a.updateMembershipExperationDate,setMainHome:a.setMainHome,updateAccountSettings:a.updateAccountSettings,updateCouponsClaimed:a.updateCouponsClaimed})})},a.setMainUploadCoupon=function(){return a.setState({SEO:o.a.createElement(ie,{keywords:"Upload Coupons, Boston Coupons, Online Coupons, Upload Coupons",description:"Promote your local business with online coupons for free. Market your business to local customers. Grow your revenue by gaining new customers. Advertise locally in boston by uploading your coupons and business to gain popularity today. Manage custom coupons online for free."}),mainContent:o.a.createElement(I,{setMainHome:a.setMainHome,uploadCoupons:a.uploadCoupons})})},a.setMainSignUp=function(){return a.setState({SEO:o.a.createElement(ie,{title:"Signup Today for Unlimited Coupons and Free Marketing",keywords:"Upload Coupons, Boston Coupons, Online Coupons, Upload Coupons",description:"Signup for free unlimited online coupons today. Signup to claim unlimited coupons for food, retail, car repair, travel, vacations, spa, fitness, gym memberships, and much much more. No hidden fees, no monthly charges, local coupons near you managed for free by unlimtied couponer. Signup to promote your business to local customers today, free of charge and no subscription fees."}),mainContent:o.a.createElement(D,{setMainHome:a.setMainHome,parentMethod:a.setStateLoggedIn})})},a.updateCouponsClaimed=function(e){return-1===e?a.setState({couponsCurrentlyClaimed:Number(a.state.couponsCurrentlyClaimed)-1}):a.setState({couponsCurrentlyClaimed:Number(a.state.couponsCurrentlyClaimed)+1})},a.setMainHome=function(){window.history.pushState(null,"","/Home"),a.setState({SEO:o.a.createElement(ie,{title:"Boston Deals and Coupons for Food, Spa, Beauty, Clothes, Gym, Car repair, and More.",keywords:"Coupons, Boston Coupons, Food Coupons, Boston Activities",description:"Free unlimited online coupons in boston. Save money and explore local businesses in boston. Promote and market your small business for free. Food Coupons, Automotive and Car Repair Coupons, Coupons for Bars, Coupons for Gyms, Yoga Coupons, Health Coupons, Travel Coupons, Increase Business Revenue, Try new Activies, Explore Boston."}),mainContent:o.a.createElement($,{updateCouponsClaimed:a.updateCouponsClaimed})})},a.setMainLogin=function(){return a.setState({SEO:o.a.createElement(ie,{title:"Login to claim free coupons for food, coffee, pizza, rock climbing, laser tag, and More.",keywords:"Manage Coupons, Boston Coupons, Online Coupons, Boston Deals",description:"Login to claim unlimited coupons for free. Easy online coupons in the boston area, search by category, keywords, or location. Get pizza coupon, gym coupons, great deals, auto repair deals, deals on cruises, deals on paintball, deals on bars, deals on anything and everything at unlimitedcouponer. Upload coupons now for free at unlimited couponer."}),mainContent:o.a.createElement(Z,{setMainHome:a.setMainHome,parentMethod:a.setStateLoggedIn})})},a.setMainSearch=function(){return a.setState({SEO:o.a.createElement(ie,{title:"Search for great deals and coupons on food, clothes, gym memberships, and more.",keywords:"Search Coupons, Boston Coupons, Coupons near me, find Coupons",description:"Free unlimited online coupons in boston. Save money and explore local businesses in boston. Promote and market your small business for free. Food Coupons, Automotive and Car Repair Coupons, Coupons for Bars, Coupons for Gyms, Yoga Coupons, Health Coupons, Travel Coupons, Increase Business Revenue, Try new Activies, Explore Boston."}),mainContent:o.a.createElement(X,{updateCouponsClaimed:a.updateCouponsClaimed})})},a.setMainToAbout=function(){return a.setState({SEO:o.a.createElement(ie,{title:"About UnlimitedCouponer Great Deals.",keywords:"Free Coupons, Boston Coupons, Cheap Marketing, Boston Activities",description:"Learn about great deals on unlimited couponer and how you can use it to market to customers in the boston area. We are a great alternative to Groupon and offer online coupons at a much more reasonable price than other vendors. Signup today and begin marketing your business for free. Get great deals on gym memberships, eating out, rock climbing, paintball, cruises, travel, and much more."}),mainContent:o.a.createElement(te,null)})},a.setMainTo404=function(){return a.setState({SEO:o.a.createElement(ie,{title:"UnlimitedCouponer - Page not found",keywords:"404 error page",description:"Free unlimited online coupons in boston. Save money and explore local businesses in boston. Promote and market your small business for free. Food Coupons, Automotive and Car Repair Coupons, Coupons for Bars, Coupons for Gyms, Yoga Coupons, Health Coupons, Travel Coupons, Increase Business Revenue, Try new Activies, Explore Boston."}),mainContent:o.a.createElement(ae,null)})},a.setMainToMyCoupons=function(){return a.setState({SEO:o.a.createElement(ie,{title:"Boston Deals and Coupons for Food, Spa, Beauty, Clothes, Gym, Car repair, and More.",keywords:"Coupons, Boston Coupons, Food Coupons, Boston Activities",description:"Free unlimited online coupons in boston. Save money and explore local businesses in boston. Promote and market your small business for free. Food Coupons, Automotive and Car Repair Coupons, Coupons for Bars, Coupons for Gyms, Yoga Coupons, Health Coupons, Travel Coupons, Increase Business Revenue, Try new Activies, Explore Boston."}),mainContent:o.a.createElement(se,{updateCouponsClaimed:a.updateCouponsClaimed,setMainHome:a.setMainHome})})},a.setStateLoggedIn=function(e,t,n,s){sessionStorage.setItem("UnlimitedCouponerKey",e),sessionStorage.setItem("UnlimitedCouponerEmail",t),"c"===e.substr(-1)?(a.setState({SEO:o.a.createElement(ie,{title:"Boston Deals and Coupons for Food, Spa, Beauty, Clothes, Gym, Car repair, and More.",keywords:"Coupons, Boston Coupons, Food Coupons, Boston Activities",description:"Free unlimited online coupons in boston. Save money and explore local businesses in boston. Promote and market your small business for free. Food Coupons, Automotive and Car Repair Coupons, Coupons for Bars, Coupons for Gyms, Yoga Coupons, Health Coupons, Travel Coupons, Increase Business Revenue, Try new Activies, Explore Boston."}),mainContent:o.a.createElement($,{updateCouponsClaimed:a.updateCouponsClaimed}),loggedInKey:e,email:t,logoutButton:"notHidden",loginButton:"hidden",couponsCurrentlyClaimed:n,membershipExperationDate:s}),sessionStorage.setItem("couponsCurrentlyClaimed",n),sessionStorage.setItem("membershipExperationDate",s),window.history.pushState(null,"","/Home")):"b"===e.substr(-1)&&(a.setState({SEO:o.a.createElement(ie,{title:"Boston Deals and Coupons for Food, Spa, Beauty, Clothes, Gym, Car repair, and More.",keywords:"Coupons, Boston Coupons, Food Coupons, Boston Activities",description:"Free unlimited online coupons in boston. Save money and explore local businesses in boston. Promote and market your small business for free. Food Coupons, Automotive and Car Repair Coupons, Coupons for Bars, Coupons for Gyms, Yoga Coupons, Health Coupons, Travel Coupons, Increase Business Revenue, Try new Activies, Explore Boston."}),mainContent:o.a.createElement($,{updateCouponsClaimed:a.updateCouponsClaimed}),loggedInKey:e,email:t,logoutButton:"notHidden",loginButton:"hidden",loggedInbusiness:"notHidden"}),window.history.pushState(null,"","/Home"))},a.updateMembershipExperationDate=function(e){return a.setState({membershipExperationDate:e})},a.state={mainContent:"",loginButton:"notHidden",logoutButton:"hidden",email:"",loggedInKey:"",SEO:o.a.createElement(ie,{title:"Boston Deals and Coupons for Food, Spa, Beauty, Clothes, Gym, Car repair, and More.",keywords:"Coupons, Boston Coupons, Food Coupons, Boston Activities",description:"Free unlimited online coupons in boston. Save money and explore local businesses in boston. Promote and market your small business for free. Food Coupons, Automotive and Car Repair Coupons, Coupons for Bars, Coupons for Gyms, Yoga Coupons, Health Coupons, Travel Coupons, Increase Business Revenue, Try new Activies, Explore Boston."}),couponsCurrentlyClaimed:"",membershipExperationDate:"",showOrHideNav:"hidden",loggedInbusiness:"hidden",ignoreClick:!0,couponData:o.a.createElement("div",{className:"loaderContainer"},o.a.createElement("div",{className:"loader"}))},a.setMainSearch=a.setMainSearch.bind(Object(g.a)(Object(g.a)(a))),a.setMainUploadCoupon=a.setMainUploadCoupon.bind(Object(g.a)(Object(g.a)(a))),a.setMainSignUp=a.setMainSignUp.bind(Object(g.a)(Object(g.a)(a))),a.setMainAccountSettings=a.setMainAccountSettings.bind(Object(g.a)(Object(g.a)(a))),a.setMainHome=a.setMainHome.bind(Object(g.a)(Object(g.a)(a))),a.setMainLogin=a.setMainLogin.bind(Object(g.a)(Object(g.a)(a))),a.setStateLoggedIn=a.setStateLoggedIn.bind(Object(g.a)(Object(g.a)(a))),a.logout=a.logout.bind(Object(g.a)(Object(g.a)(a))),a.setMainToAbout=a.setMainToAbout.bind(Object(g.a)(Object(g.a)(a))),a.showOrHideNav=a.showOrHideNav.bind(Object(g.a)(Object(g.a)(a))),a.setMainToMyCoupons=a.setMainToMyCoupons.bind(Object(g.a)(Object(g.a)(a))),a.uploadCoupons=a.uploadCoupons.bind(Object(g.a)(Object(g.a)(a))),a.hideNav=a.hideNav.bind(Object(g.a)(Object(g.a)(a))),a.updateAccountSettings=a.updateAccountSettings.bind(Object(g.a)(Object(g.a)(a))),a.updateCouponsClaimed=a.updateCouponsClaimed.bind(Object(g.a)(Object(g.a)(a))),a.updateMembershipExperationDate=a.updateMembershipExperationDate.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,a,n,o,s,r,i,c,u=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e){sessionStorage.setItem("couponlatitude",e.latitude),sessionStorage.setItem("couponlongitude",e.longitude)},t=sessionStorage.getItem("couponlatitude"),a=sessionStorage.getItem("couponlongitude"),t||a||!navigator.geolocation?this.setState({latitude:a,longitude:a}):x(n),o=function(e){if("search"===e.toLowerCase().substring(0,6))u.setMainSearch();else switch(e.toLowerCase()){case"":case"home":u.setMainHome();break;case"uploadcoupon":u.setMainUploadCoupon();break;case"accountsettings":u.setMainAccountSettings();break;case"signup":u.setMainSignUp();break;case"login":u.setMainLogin();break;case"about":u.setMainToAbout();break;case"mycoupons":u.setMainToMyCoupons();break;default:u.setMainTo404()}},s=window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length),o(s),this._isMounted=!0,window.onpopstate=function(){if(u._isMounted){var e=window.location.href.substring(window.location.href.lastIndexOf("/")+1,window.location.href.length);o(e)}},r=sessionStorage.getItem("UnlimitedCouponerKey"),i=sessionStorage.getItem("couponsCurrentlyClaimed"),c=sessionStorage.getItem("membershipExperationDate"),r&&this.setState({loginButton:"hidden",logoutButton:"notHidden",loggedInKey:sessionStorage.getItem("UnlimitedCouponerKey").replace('"',"").replace('"',""),email:sessionStorage.getItem("UnlimitedCouponerEmail"),membershipExperationDate:c,couponsCurrentlyClaimed:i}),r&&"b"===r.substr(-1)&&this.setState({loggedInbusiness:"notHidden"});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={loggedInKey:this.state.loggedInKey,email:this.state.email},e.next=3,U("/api/signout",t);case 3:this.setState({mainContent:o.a.createElement($,{updateCouponsClaimed:this.updateCouponsClaimed}),loggedInKey:"",email:"",loginButton:"notHidden",logoutButton:"hidden",loggedInbusiness:"hidden",couponsCurrentlyClaimed:"",membershipExperationDate:""}),S.toast.success("Successful Logout!"),sessionStorage.removeItem("UnlimitedCouponerKey"),sessionStorage.removeItem("UnlimitedCouponerEmail"),sessionStorage.removeItem("businessOwner"),sessionStorage.removeItem("couponsCurrentlyClaimed"),sessionStorage.removeItem("membershipExperationDate");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"uploadCoupons",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={description:t.description,source:t.source,currency:t.currency,amount:t.amount,title:t.title,longitude:t.longitude,latitude:t.latitude,address:t.address,amountCoupons:t.amountCoupons,currentPrice:t.currentPrice,discountedPrice:t.discountedPrice,superCoupon:t.superCoupon,textarea:t.textarea,imagePreviewUrl:t.imagePreviewUrl,category:t.category,city:t.city,zip:t.zip,loggedInKey:this.state.loggedInKey,email:this.state.email},e.next=3,U("/api/uploadCoupons",a);case 3:if(!(n=e.sent)||"Coupon Created"!==n.response){e.next=8;break}return e.abrupt("return",S.toast.success("Coupon Created!"));case 8:return e.abrupt("return",S.toast.error(n.response));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccountSettings",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={oldPassword:t.oldPassword,newPassword:t.newPassword,city:t.city,businessName:t.businessName,loggedInKey:this.state.loggedInKey,email:this.state.email},e.next=3,U("/api/updateAccount",a);case 3:(n=e.sent)&&"Updated Account!"===n.response?S.toast.success("Updated Account!"):S.toast.error("Failed to update account.");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"home",onClick:this.hideNav},this.state.SEO,o.a.createElement(S.ToastContainer,null),o.a.createElement("h1",{className:"homeMainTitle"},"Coupons to for food, spas, gyms, bars, and more! Promote your business for free by offering discounts to local customers."),this.state.email?o.a.createElement("strong",null,o.a.createElement("p",{className:"loginInfo"},"Logged in as: ",this.state.email,".")):o.a.createElement("strong",null,o.a.createElement("p",null,"Welcome, Guest!")),this.state.couponsCurrentlyClaimed?o.a.createElement("strong",null,o.a.createElement("p",{className:"loginInfo"},this.state.couponsCurrentlyClaimed,"/5 Coupons Claimed!")):o.a.createElement("p",null),o.a.createElement("header",{className:"homeHeader"},o.a.createElement("section",null,o.a.createElement("a",{onClick:this.setMainHome,id:"logo"},o.a.createElement("strong",null,"UnlimitedCouponer")),o.a.createElement("span",{htmlFor:"toggle-1",className:"toggle-menu",onClick:this.showOrHideNav},o.a.createElement("ul",null,o.a.createElement("li",null),o.a.createElement("li",null),o.a.createElement("li",null))),o.a.createElement("nav",{className:this.state.showOrHideNav,onClick:this.showOrHideNav},o.a.createElement("ul",null,o.a.createElement(le,{href:"/Home"},o.a.createElement("li",{onClick:this.setMainHome},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-home"}),"Home"))),o.a.createElement(le,{href:"/About"},o.a.createElement("li",{onClick:this.setMainToAbout},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-info-circle"}),"About"))),o.a.createElement("div",{className:this.state.loginButton},o.a.createElement(le,{href:"/Login"},o.a.createElement("li",{onClick:this.setMainLogin},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-sign-in"}),"Login")))),o.a.createElement("div",{className:this.state.loginButton},o.a.createElement(le,{href:"/SignUp"},o.a.createElement("li",{onClick:this.setMainSignUp},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-user"}),"Sign up")))),o.a.createElement("div",{className:this.state.logoutButton},o.a.createElement(le,{href:"/Home"},o.a.createElement("li",{onClick:this.logout},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-user"}),"Logout")))),o.a.createElement("div",{className:this.state.logoutButton},o.a.createElement(le,{href:"/MyCoupons"},o.a.createElement("li",{onClick:this.setMainToMyCoupons},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-money"}),"My Coupons")))),o.a.createElement("div",{className:this.state.logoutButton},o.a.createElement(le,{href:"/AccountSettings"},o.a.createElement("li",{onClick:this.setMainAccountSettings},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-gear"}),"Account Settings")))),o.a.createElement("div",{className:this.state.loggedInbusiness},o.a.createElement(le,{href:"/UploadCoupon"},o.a.createElement("li",{onClick:this.setMainUploadCoupon},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-money"}),"Upload Coupons")))),o.a.createElement(le,{href:"/Search"},o.a.createElement("li",{onClick:this.setMainSearch},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-search"}),"Search Coupons"))))))),this.state.mainContent,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(_,null))}}]),t}(n.Component),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=function(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?S.toast.error("New content is available; please refresh."):S.toast.success("Content is cached for offline use."))}}}).catch(function(e){})},de=function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):me(e)}).catch(function(){S.toast.error("No internet connection found. App is running in offline mode.")})};r.a.render(o.a.createElement(ce,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ue?de(e):me(e)})}}()},37:function(e,t,a){e.exports=a(105)},42:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},60:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){}},[[37,2,1]]]);
//# sourceMappingURL=main.9aa5f2ca.chunk.js.map